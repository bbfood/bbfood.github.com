(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{365:function(t,e,n){"use strict";n.r(e);var r=n(427),c=n(428),l={name:"MenuItemCard",props:{item:{type:Object,default:function(){return{id:"1234sdis12",number:"A01",name:"item name",ingredients:"short description"}}}},data:function(){return{}}},o=n(5),m=n(32),d=n.n(m),v=n(332),h=n(386),f=n(341),y=n(380),_=n(593),C=n(327),P=n(331),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"pa-1",attrs:{nocolor:"#1F7087",dark:!1}},[r("div",{staticClass:"d-flex flex-no-wrap justify-start"},[r("v-avatar",{attrs:{size:"350",tile:""}},[r("v-img",{attrs:{src:n(423)}})],1),r("div",[r("v-card-title",{staticClass:"headline"},[r("v-chip",[t._v(t._s(t.item.number))]),r("span",{staticClass:"ml-2"},[t._v(t._s(t.item.name))])],1),r("v-card-subtitle",[t.item.ingredients?r("div",[t._v("Ingredients: "),r("strong",[t._v(t._s(t.item.ingredients))])]):t._e(),r("div",{staticClass:"mt-4"},[r("v-chip-group",{attrs:{column:""}},[r("v-chip",[r("v-icon",[t._v("mdi-alpha-d-circle-outline")]),t._v(t._s(t.item.dietary))],1),r("v-chip",[r("v-icon",[t._v("mdi-alpha-c-circle-outline")]),t._v(t._s(t.item.cooking_method))],1),r("v-chip",[r("v-icon",[t._v("mdi-alpha-f-circle-outline")]),t._v(t._s(t.item.flavour))],1)],1)],1)]),r("v-card-actions",[r("v-icon",[t._v("mdi-currency-usd")]),r("span",{staticClass:"subheading"},[t._v(t._s(t.item.price))])],1)],1)],1)])}),[],!1,null,null,null),V=component.exports;d()(component,{VAvatar:v.a,VCard:h.a,VCardActions:f.a,VCardSubtitle:f.b,VCardTitle:f.d,VChip:y.a,VChipGroup:_.a,VIcon:C.a,VImg:P.a});var k={name:"SectionMenuAdmin",components:{"search-box":r.a,"category-filter":c.a,"item-card":V},data:function(){return{items:[],totalItems:0,categories:[],currentPage:1,perPage:10,totalPages:0,totalVisible:7}},methods:{queryItems:function(t){var e=this,n={query:"*:*",start:t,rows:e.perPage};e.$axios.get("/s/bbf/menuitems",{params:n}).then((function(t){e.items=t.data.docs,e.categories=t.data.cats,e.totalItems=t.data.numFound,e.totalPages=Math.ceil(e.totalItems/e.perPage)}))},flipPage:function(){this.queryItems((this.currentPage-1)*this.perPage)},handleCategorySelect:function(t){console.log("selected category: ",t)}},computed:{paginationSummary:function(){var t=(this.currentPage-1)*this.perPage+1,e=this.currentPage===this.totalPages?this.totalItems:this.currentPage*this.perPage;return"".concat(t," - ").concat(e," of ").concat(this.totalItems," Items")}},beforeMount:function(){this.queryItems(0)}},x=n(329),w=n(374),I=n(371),S=n(439),A=n(340),$=n(404),j=Object(o.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("store-base-section",{attrs:{id:"menuadmin"}},[n("store-base-section-heading",{attrs:{title:"Menu Items Management",space:"1"}}),n("v-container",[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"3"}},[n("search-box",{attrs:{label:"Search Items"}}),n("v-container",{staticClass:"pt-0"},[n("v-btn",{attrs:{color:"success",align:"right"}},[t._v("New Menu Item")])],1),n("category-filter",{attrs:{categories:t.categories},on:{"category-select":t.handleCategorySelect}})],1),n("v-col",{attrs:{cols:"9"}},[t.items.length>0?n("v-row",[n("v-col",{staticClass:"pa-0"},[n("v-btn",{attrs:{text:"",color:"primary",large:""}},[t._v(t._s(t.paginationSummary))])],1),n("v-spacer"),n("v-col",{staticClass:"pa-0"},[n("v-pagination",{attrs:{length:t.totalPages,"total-visible":t.totalVisible,circle:""},on:{input:t.flipPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1):t._e(),n("v-row",t._l(t.items,(function(t,e){return n("v-col",{key:t.id,attrs:{cols:"12"}},[n("item-card",{attrs:{item:t}})],1)})),1),t.items.length>0?n("v-row",[n("v-col",{staticClass:"pa-0"},[n("v-pagination",{attrs:{length:t.totalPages,"total-visible":t.totalVisible,circle:""},on:{input:t.flipPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1):t._e()],1)],1)],1)],1)}),[],!1,null,null,null);e.default=j.exports;d()(j,{VBtn:x.a,VCol:w.a,VContainer:I.a,VPagination:S.a,VRow:A.a,VSpacer:$.a})},423:function(t,e,n){t.exports=n.p+"img/S02Strawberry Salad.0c5ffdc.jpg"},427:function(t,e,n){"use strict";var r={name:"ChannelSearch",props:{label:{type:String,default:"Search"}},data:function(){return{query:null}},methods:{handleClickAppend:function(){var t="*:*";null!==this.query&&this.query.length>0&&(t=this.query),this.$emit("searchbox-search",t)}}},c=n(5),l=n(32),o=n.n(l),m=n(371),d=n(429),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-text-field",{attrs:{outlined:"",id:"input-query",autocomplete:"off",label:t.label,clearable:"","append-icon":"mdi-magnify"},on:{"click:clear":function(e){return t.$emit("searchbox-search","*:*")},"click:append":t.handleClickAppend,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleClickAppend(e)}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}})],1)}),[],!1,null,null,null);e.a=component.exports;o()(component,{VContainer:m.a,VTextField:d.a})},428:function(t,e,n){"use strict";var r={name:"CategoryFilter",props:{label:{type:String,default:"Filter by categories"},categories:{type:Array,default:function(){return[{name:"movies",counts:20},{name:"sports",counts:120}]}}},data:function(){return{}},methods:{}},c=n(5),l=n(32),o=n.n(l),m=n(380),d=n(371),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("h3",{staticClass:"mb-2"},[t._v(t._s(t.label))]),t._l(t.categories,(function(e,r){return n("v-chip",{key:e.name,staticClass:"ma-1",attrs:{color:"primary"},on:{click:function(n){return t.$emit("category-select",e)}}},[t._v(t._s(e.name)+" ("+t._s(e.counts)+")")])}))],2)}),[],!1,null,null,null);e.a=component.exports;o()(component,{VChip:m.a,VContainer:d.a})}}]);